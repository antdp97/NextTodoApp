{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/phucan/Desktop/Job/Btaskee/testing/next-todo-app/components/usertable.js\";\nimport React, { Component } from 'react';\n\nvar _default =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(_default, _Component);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this, props));\n    _this.state = {\n      users: null\n    };\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"getInitialProps\",\n    value: function getInitialProps() {\n      var _this2 = this;\n\n      var res = fetch('localhost:4000/user').then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        console.log(result);\n\n        _this2.setState({\n          isLoaded: true,\n          users: result\n        });\n      } // Note: it's important to handle errors here\n      // instead of a catch() block so that we don't swallow\n      // exceptions from actual bugs in components.\n      )[\"catch\"](function (e) {\n        console.log(e);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var users = this.getInitialProps(); // this.setState({\n      //     users: users\n      // })\n\n      console.log(this.props.users);\n    } // renderTableHeader(){\n    //     var myData = Object.assign({}, this.state.users[0]);\n    //     let header = Object.keys(myData)\n    //     return header.map((key,index)=>{\n    //         return (\n    //             <th key={index} >{key.toUpperCase()}</th>\n    //         )\n    //     })\n    // }\n\n  }, {\n    key: \"renderTableData\",\n    value: function renderTableData() {\n      if (!this.state.users) {\n        return null;\n      }\n\n      return this.state.users.map(function (data, index) {\n        var id = data.id,\n            name = data.name,\n            email = data.email,\n            yob = data.yob,\n            role = data.role;\n        return React.createElement(\"tr\", {\n          key: id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, id), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, email), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, yob), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, role));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      //console.log(this.state.users)\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, this.state.name, \" List Table\"), React.createElement(\"table\", {\n        id: \"userData\",\n        className: \"table table-striped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, this.renderTableData())));\n    }\n  }]);\n\n  return _default;\n}(Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/home/phucan/Desktop/Job/Btaskee/testing/next-todo-app/components/usertable.js"],"names":["React","Component","props","state","users","res","fetch","then","json","result","console","log","setState","isLoaded","e","getInitialProps","map","data","index","id","name","email","yob","role","renderTableData"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;;;;;;;AAII,oBAAYC,KAAZ,EAAkB;AAAA;;AAAA;;AACd,kFAAMA,KAAN;AACA,UAAKC,KAAL,GAAa;AACTC,MAAAA,KAAK,EAAC;AADG,KAAb;AAFc;AAMjB;;;;sCACgB;AAAA;;AACb,UAAMC,GAAG,GAAGC,KAAK,CAAC,qBAAD,CAAL,CACXC,IADW,CACN,UAAAF,GAAG;AAAA,eAAIA,GAAG,CAACG,IAAJ,EAAJ;AAAA,OADG,EAEXD,IAFW,CAGV,UAACE,MAAD,EAAY;AACRC,QAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;;AACF,QAAA,MAAI,CAACG,QAAL,CAAc;AACZC,UAAAA,QAAQ,EAAE,IADE;AAEZT,UAAAA,KAAK,EAAEK;AAFK,SAAd;AAID,OATS,CAUV;AACA;AACA;AAZU,iBAeJ,UAACK,CAAD,EAAK;AACTJ,QAAAA,OAAO,CAACC,GAAR,CAAYG,CAAZ;AACH,OAjBW,CAAZ;AAkBH;;;wCAKkB;AACf,UAAIV,KAAK,GAAG,KAAKW,eAAL,EAAZ,CADe,CAEf;AACA;AACA;;AACAL,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWE,KAAvB;AACH,K,CAED;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;;;;sCAEiB;AACb,UAAG,CAAC,KAAKD,KAAL,CAAWC,KAAf,EAAsB;AAClB,eAAO,IAAP;AACH;;AACD,aAAO,KAAKD,KAAL,CAAWC,KAAX,CAAiBY,GAAjB,CAAqB,UAACC,IAAD,EAAMC,KAAN,EAAc;AAAA,YAC/BC,EAD+B,GACPF,IADO,CAC/BE,EAD+B;AAAA,YAC5BC,IAD4B,GACPH,IADO,CAC5BG,IAD4B;AAAA,YACvBC,KADuB,GACPJ,IADO,CACvBI,KADuB;AAAA,YACjBC,GADiB,GACPL,IADO,CACjBK,GADiB;AAAA,YACbC,IADa,GACPN,IADO,CACbM,IADa;AAEtC,eACI;AAAI,UAAA,GAAG,EAAEJ,EAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKA,EAAL,CADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKC,IAAL,CAFJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKC,KAAL,CAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKC,GAAL,CAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAKC,IAAL,CALJ,CADJ;AASH,OAXM,CAAP;AAYH;;;6BAEO;AACJ;AACA,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEI;AAAI,QAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAA6B,KAAKpB,KAAL,CAAWiB,IAAxC,gBAFJ,EAGI;AAAO,QAAA,EAAE,EAAC,UAAV;AAAqB,QAAA,SAAS,EAAC,qBAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACK,KAAKI,eAAL,EADL,CANJ,CAHJ,CADJ;AAgBH;;;;EAxFwBvB,S","sourcesContent":["import React, {Component} from 'react';\n\n\nexport default class extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            users:null\n        };\n\n    }\n    getInitialProps(){\n        const res = fetch('localhost:4000/user')\n        .then(res => res.json())\n        .then(\n          (result) => {\n              console.log(result);\n            this.setState({\n              isLoaded: true,\n              users: result\n            });\n          },\n          // Note: it's important to handle errors here\n          // instead of a catch() block so that we don't swallow\n          // exceptions from actual bugs in components.\n          \n          \n        ).catch((e)=>{\n            console.log(e);\n        })\n    }\n  \n\n\n\n    componentDidMount(){\n        let users = this.getInitialProps()\n        // this.setState({\n        //     users: users\n        // })\n        console.log(this.props.users)\n    }\n\n    // renderTableHeader(){\n    //     var myData = Object.assign({}, this.state.users[0]);\n    //     let header = Object.keys(myData)\n\n    //     return header.map((key,index)=>{\n\n    //         return (\n    //             <th key={index} >{key.toUpperCase()}</th>\n    //         )\n    //     })\n    // }\n\n    renderTableData(){\n        if(!this.state.users) {\n            return null;\n        }\n        return this.state.users.map((data,index)=>{\n            const {id,name,email,yob,role}=data\n            return (\n                <tr key={id}>\n                    <td>{id}</td>\n                    <td>{name}</td>    \n                    <td>{email}</td>\n                    <td>{yob}</td>\n                    <td>{role}</td>\n                </tr>\n            )\n        })\n    }\n\n    render(){\n        //console.log(this.state.users)\n        return (\n            <div>\n\n                <h1 className=\"text-center\">{this.state.name} List Table</h1>\n                <table id=\"userData\" className=\"table table-striped\">\n                    {/* <thead className=\"thead-dark\">\n                        <tr>\n                            {this.renderTableHeader()}\n                        </tr>\n                    </thead> */}\n                    <tbody>\n                        {this.renderTableData()}\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}