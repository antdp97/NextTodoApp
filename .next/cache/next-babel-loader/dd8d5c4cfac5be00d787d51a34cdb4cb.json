{"ast":null,"code":"import _Object$keys from \"@babel/runtime-corejs2/core-js/object/keys\";\nimport _Object$assign from \"@babel/runtime-corejs2/core-js/object/assign\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/phucan/Desktop/Job/Btaskee/testing/next-todo-app/components/usertable.js\";\nimport React, { Component } from 'react';\n\nvar _default =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(_default, _Component);\n\n  function _default(props) {\n    var _this;\n\n    _classCallCheck(this, _default);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(_default).call(this, props));\n    _this.state = {\n      users: null\n    };\n    return _this;\n  }\n\n  _createClass(_default, [{\n    key: \"getInitialProps\",\n    value: function getInitialProps() {\n      var _this2 = this;\n\n      var res = fetch('http://localhost:4000/user').then(function (res) {\n        return res.json();\n      }).then(function (result) {\n        console.log(result);\n\n        _this2.setState({\n          isLoaded: true,\n          users: result\n        });\n      } // Note: it's important to handle errors here\n      // instead of a catch() block so that we don't swallow\n      // exceptions from actual bugs in components.\n      )[\"catch\"](function (e) {\n        console.log(e);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var users = this.getInitialProps();\n      this.setState({\n        users: users\n      });\n      console.log(this.state.users);\n    }\n  }, {\n    key: \"renderTableHeader\",\n    value: function renderTableHeader() {\n      var myData = _Object$assign({}, this.state.users);\n\n      var header = _Object$keys(myData);\n\n      return header.map(function (key, index) {\n        return React.createElement(\"th\", {\n          key: index,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 52\n          },\n          __self: this\n        }, key.toUpperCase());\n      });\n    }\n  }, {\n    key: \"renderTableData\",\n    value: function renderTableData() {\n      if (!this.state.users) {\n        return null;\n      }\n\n      return this.state.users.map(function (data, index) {\n        var id = data.id,\n            name = data.name,\n            email = data.email,\n            yob = data.yob,\n            role = data.role;\n        return React.createElement(\"tr\", {\n          key: id,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64\n          },\n          __self: this\n        }, React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65\n          },\n          __self: this\n        }, id), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66\n          },\n          __self: this\n        }, name), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67\n          },\n          __self: this\n        }, email), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 68\n          },\n          __self: this\n        }, yob), React.createElement(\"td\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        }, role));\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"h1\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      }, \"List Table\"), React.createElement(\"table\", {\n        id: \"userData\",\n        className: \"table table-striped\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80\n        },\n        __self: this\n      }, React.createElement(\"thead\", {\n        className: \"thead-dark\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 81\n        },\n        __self: this\n      }, React.createElement(\"tr\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, this.renderTableHeader())), React.createElement(\"tbody\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }, this.renderTableData())));\n    }\n  }]);\n\n  return _default;\n}(Component);\n\nexport { _default as default };","map":{"version":3,"sources":["/home/phucan/Desktop/Job/Btaskee/testing/next-todo-app/components/usertable.js"],"names":["React","Component","props","state","users","res","fetch","then","json","result","console","log","setState","isLoaded","e","getInitialProps","myData","header","map","key","index","toUpperCase","data","id","name","email","yob","role","renderTableHeader","renderTableData"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\n\n\nexport default class extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            users:null\n        };\n\n    }\n    getInitialProps(){\n        const res = fetch('http://localhost:4000/user')\n        .then(res => res.json())\n        .then(\n          (result) => {\n              console.log(result);\n            this.setState({\n              isLoaded: true,\n              users: result\n            });\n          },\n          // Note: it's important to handle errors here\n          // instead of a catch() block so that we don't swallow\n          // exceptions from actual bugs in components.\n          \n          \n        ).catch((e)=>{\n            console.log(e);\n        })\n    }\n  \n\n\n\n    componentDidMount(){\n        \n        let users = this.getInitialProps()\n        this.setState({\n            users: users\n        })\n        console.log(this.state.users)\n    }\n\n    renderTableHeader(){\n        var myData = Object.assign({}, this.state.users);\n        let header = Object.keys(myData)\n\n        return header.map((key,index)=>{\n\n            return (\n                <th key={index} >{key.toUpperCase()}</th>\n            )\n        })\n    }\n\n    renderTableData(){\n        if(!this.state.users) {\n            return null;\n        }\n        return this.state.users.map((data,index)=>{\n            const {id,name,email,yob,role}=data\n            return (\n                <tr key={id}>\n                    <td>{id}</td>\n                    <td>{name}</td>    \n                    <td>{email}</td>\n                    <td>{yob}</td>\n                    <td>{role}</td>\n                </tr>\n            )\n        })\n    }\n\n    render(){\n        return (\n            <div>\n\n                <h1 className=\"text-center\">List Table</h1>\n                <table id=\"userData\" className=\"table table-striped\">\n                    <thead className=\"thead-dark\">\n                        <tr>\n                            {this.renderTableHeader()}\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.renderTableData()}\n                    </tbody>\n                </table>\n            </div>\n        )\n    }\n}\n\n"]},"metadata":{},"sourceType":"module"}