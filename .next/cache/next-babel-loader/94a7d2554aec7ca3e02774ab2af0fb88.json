{"ast":null,"code":"import _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/phucan/Desktop/Job/Btaskee/testing/next-todo-app/components/delete.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport UserModel from '../server/user.model';\nimport { userInfo } from 'os';\n\nvar CreateUser =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CreateUser, _Component);\n\n  function CreateUser(props) {\n    var _this;\n\n    _classCallCheck(this, CreateUser);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CreateUser).call(this, props));\n    _this.onChangeUserId = _this.onChangeUserId.bind(_assertThisInitialized(_this));\n    _this.onSubmit = _this.onSubmit.bind(_assertThisInitialized(_this));\n    _this.state = {\n      id: 0\n    };\n    return _this;\n  }\n\n  _createClass(CreateUser, [{\n    key: \"onChangeUserId\",\n    value: function onChangeUserId(e) {\n      this.setState({\n        id: e.target.value\n      });\n    }\n  }, {\n    key: \"onSubmit\",\n    value: function onSubmit(e) {\n      e.preventDefault();\n      console.log(this.state);\n      var deleteUser = {\n        id: this.state.id\n      };\n      axios[\"delete\"]('http://localhost:4000/api/users/', deleteUser).then(function (res) {\n        UserModel.findOneAndRemove({\n          id: res.data.id\n        }, function (err) {\n          if (err) return res.json({\n            'success': false\n          });\n          return res.json({\n            'success': true\n          });\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        style: {\n          marginTop: 20\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48\n        },\n        __self: this\n      }, \"Delete User\"), React.createElement(\"form\", {\n        onSubmit: this.onSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51\n        },\n        __self: this\n      }, \"ID: \"), React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: this.state.id,\n        onChange: this.onChangeUserId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"submit\",\n        value: \"DeleteUser\",\n        className: \"btn btn-primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }))));\n    }\n  }]);\n\n  return CreateUser;\n}(Component);\n\nexport { CreateUser as default };","map":{"version":3,"sources":["/home/phucan/Desktop/Job/Btaskee/testing/next-todo-app/components/delete.js"],"names":["React","Component","axios","UserModel","userInfo","CreateUser","props","onChangeUserId","bind","onSubmit","state","id","e","setState","target","value","preventDefault","console","log","deleteUser","then","res","findOneAndRemove","data","err","json","marginTop"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,sBAAtB;AACA,SAASC,QAAT,QAAyB,IAAzB;;IAEqBC,U;;;;;AAEjB,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACf,oFAAMA,KAAN;AAEA,UAAKC,cAAL,GAAsB,MAAKA,cAAL,CAAoBC,IAApB,+BAAtB;AACA,UAAKC,QAAL,GAAgB,MAAKA,QAAL,CAAcD,IAAd,+BAAhB;AAEA,UAAKE,KAAL,GAAa;AACTC,MAAAA,EAAE,EAAC;AADM,KAAb;AANe;AASlB;;;;mCAEcC,C,EAAG;AACd,WAAKC,QAAL,CAAc;AACVF,QAAAA,EAAE,EAAEC,CAAC,CAACE,MAAF,CAASC;AADH,OAAd;AAGH;;;6BAEQH,C,EAAG;AACRA,MAAAA,CAAC,CAACI,cAAF;AAEAC,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKR,KAAjB;AACA,UAAMS,UAAU,GAAG;AAEfR,QAAAA,EAAE,EAAE,KAAKD,KAAL,CAAWC;AAFA,OAAnB;AAKAT,MAAAA,KAAK,UAAL,CAAa,kCAAb,EAAgDiB,UAAhD,EACKC,IADL,CACU,UAAAC,GAAG,EAAI;AACTlB,QAAAA,SAAS,CAACmB,gBAAV,CAA2B;AAACX,UAAAA,EAAE,EAAGU,GAAG,CAACE,IAAJ,CAASZ;AAAf,SAA3B,EAA+C,UAAUa,GAAV,EAAe;AAC1D,cAAIA,GAAJ,EAAS,OAAOH,GAAG,CAACI,IAAJ,CAAS;AAAC,uBAAW;AAAZ,WAAT,CAAP;AACT,iBAAOJ,GAAG,CAACI,IAAJ,CAAS;AAAC,uBAAW;AAAZ,WAAT,CAAP;AACH,SAHD;AAIH,OANL;AASH;;;6BAEQ;AACL,aACI;AAAK,QAAA,KAAK,EAAE;AAACC,UAAAA,SAAS,EAAE;AAAZ,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBADJ,EAEI;AAAM,QAAA,QAAQ,EAAE,KAAKjB,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAEI;AAAQ,QAAA,IAAI,EAAC,MAAb;AACQ,QAAA,SAAS,EAAC,cADlB;AAEQ,QAAA,KAAK,EAAE,KAAKC,KAAL,CAAWC,EAF1B;AAGQ,QAAA,QAAQ,EAAE,KAAKJ,cAHvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFJ,CADJ,EASI;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACI;AAAO,QAAA,IAAI,EAAC,QAAZ;AAAqB,QAAA,KAAK,EAAC,YAA3B;AAAwC,QAAA,SAAS,EAAC,iBAAlD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ,CATJ,CAFJ,CADJ;AAkBH;;;;EA1DmCN,S;;SAAnBI,U","sourcesContent":["import React, {Component} from 'react';\nimport axios from 'axios';\nimport UserModel from '../server/user.model';\nimport { userInfo } from 'os';\n\nexport default class CreateUser extends Component {\n\n    constructor(props) {\n        super(props);\n\n        this.onChangeUserId = this.onChangeUserId.bind(this);\n        this.onSubmit = this.onSubmit.bind(this);\n\n        this.state = {\n            id:0,\n        };\n    }\n\n    onChangeUserId(e) {\n        this.setState({\n            id: e.target.value\n        });\n    }\n    \n    onSubmit(e) {\n        e.preventDefault();\n        \n        console.log(this.state);\n        const deleteUser = {\n        \n            id: this.state.id,\n        }\n\n        axios.delete('http://localhost:4000/api/users/',deleteUser)\n            .then(res => {\n                UserModel.findOneAndRemove({id : res.data.id}, function (err) {\n                    if (err) return res.json({'success': false});\n                    return res.json({'success': true});\n                });\n            });\n            \n\n    }\n\n    render() {\n        return (\n            <div style={{marginTop: 20}}>\n                <h3>Delete User</h3>\n                <form onSubmit={this.onSubmit}>\n                    <div className=\"form-group\">\n                        <label>ID: </label>\n                        <input  type=\"text\"\n                                className=\"form-control\"\n                                value={this.state.id}\n                                onChange={this.onChangeUserId}\n                                />\n                    </div>\n                    <div className=\"form-group\">\n                        <input type=\"submit\" value=\"DeleteUser\" className=\"btn btn-primary\" />\n                    </div>\n                </form>\n            </div>\n        )\n    }\n}"]},"metadata":{},"sourceType":"module"}